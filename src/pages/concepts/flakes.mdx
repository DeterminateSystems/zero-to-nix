---
title: Flakes
snippet: Fill me in later so that I show up in the tooltip
related: ["channels", "flake-inputs", "flake-outputs", "flake-templates"]
externalSources: [
  {
    title: "Flakes",
    href: "https://nixos.wiki/wiki/Flakes",
    source: {
      title: "The NixOS wiki",
      href: "https://nixos.wiki"
    }
  },
  {
    title: "Practical Nix flakes",
    href: "https://serokell.io/blog/practical-nix-flakes",
    source: {
      title: "The Serokell blog",
      href: "https://serokell.io/blog"
    }
  },
  {
    title: "Nix flakes: an introduction",
    href: "https://xeiaso.net/blog/nix-flakes-1-2022-02-21",
    source: {
      title: "Xe Iaso's blog",
      href: "https://xeiaso.net/blog"
    }
  }
]
---

Nix **flakes** are a way of organizing and referring to Nix code that's pretty awesome. We think they're better than [channels](/concepts/channels).

Flakes take [flake inputs](/concepts/flake-inputs), such as [Nixpkgs](/concepts/nixpkgs), and provide [flake outputs](/concepts/flake-outputs) that other flakes can consume.

## Flake references

All Nix flakes are identified by a two-part "address" that signals where they're located:

<FlakeReferences />

### Types

The table below shows which types are available:

<FlakeReferenceTypes />

<Warning title="Exceptions">
There are two important exceptions to the path prefix rules in the table above:

1. The path `nixpkgs` doesn't require a prefix and is equivalent to `github:NixOS/nixpkgs`.
1. You can use absolute filepaths without a `path` prefix, for example `/Users/nix-user/nix-stuff`.
</Warning>

### The flake registry

The [flake registry][registry] is...

### Git references

Flake references with different [prefixes](#prefixes) have different structures.
Filepaths, either using `path` for relative paths or no prefix for absolute paths, work as you would expect in a Unix filesystem.
[Git] references, however, are much more find grained, enabling you to refer to specific Git [revisions], [branches], and more.

<FlakeGitAttributes />

[branches]: https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell
[git]: https://git-scm.com
[nixpkgs]: https://github.com/NixOS/nixpkgs
[registry]: https://github.com/NixOS/flake-registry
[revisions]: https://git-scm.com/docs/revisions
